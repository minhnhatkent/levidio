if(void 0===ctctblog)var ctctblog={};ctctblog.enews_widget=function(){"use strict";$(document).ready(function(){$(".enews-widget").addClass("clearfix"),$('.enews-widget #subscribe[action="https://a.constantcontact.com/subscriptions/coi_verify/.ashx"]').attr("method","get")})}(),ctctblog.wp_search_widget_override=function(){"use strict";$(document).ready(function(){$(".searchform").addClass("clearfix")})}(),ctctblog.search_widget=function(){"use strict";$(document).ready(function(){$(".ctct-search-widget .search-input").focus(function(){$(".ctct-search-widget .search-submit-focus").addClass("on")}),$(".ctct-search-widget .search-input").blur(function(){$(".ctct-search-widget .search-submit-focus").removeClass("on")})})}(),ctctblog.getUrlVars=function(){"use strict";var a={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d});return a},ctctblog.boxes=[],ctctblog.checkboxes=function(a){"use strict";var b=$(a);ctctblog.getUrlVars();b.find('[type="checkbox"]').each(function(){var a,b=$(this),c=b.parent(),d=!1,e=document.createElement("div");if(b.data("blog-filter")&&(d=!0),0<ctctblog.boxes.indexOf(b.attr("name")))return!0;var f=function(){b.trigger("click"),b.is(":checked")?c.addClass("checked"):c.removeClass("checked")};b.css({display:"none"}),c.find("label").on("click",function(){f()}),b.attr("checked")&&c.addClass("checked"),e.setAttribute("class","ctct-checkbox"),e.setAttribute("id",b.attr("name")),ctctblog.boxes.push(b.attr("name")),b.after(e),a=b.attr("value")+"-label",d?b.after('<label class="margin-left_13">'+b.data("display-name")+"</label>"):b.after('<label id="'+a+'">'+b.attr("value")+"</label>"),e.addEventListener("click",f,!1),$(document.getElementById(a)).on("click",function(){f()})})},ctctblog.dropdown=function(a,b){"use strict";var c=$(a),d="",e="",f="",g="",h=[],i=1;if(c.is("[data-select-default]")){var j=c.attr("data-select-default");c.prepend('<option value="">'+j+"</option>")}if(c.find("option").each(function(){var a=$(this),b=a.val(),c=b.split(":");c.length>1&&(-1===h.indexOf(c[1])&&h.push(c[1]),a.val(c[0])),a.attr("data-ctct-drop-id",i),"select-title"===a.val()?e+='<li class="select-title"><strong>'+a.text()+"</strong></li>":c.length>1?e+='<li data-ctct-drop-id="'+i+'" data-ctct-drop-value="'+c[0]+'" data-ctct-drop-secondary="'+c[1]+'">'+a.text()+"</li>":e+='<li data-ctct-drop-id="'+i+'" data-ctct-drop-value="'+c[0]+'">'+a.text()+"</li>",i++,a.is(":selected")&&!a.is('[value="select-title"]')&&(f=a.text())}),f||(f=c.find("option:first-of-type").text()),d+='<div data-ctct-drop class="ctct-blog-dropdown clearfix">',d+='<div data-ctct-drop-btn class="arrow">'+f+"</div>",d+='<ul data-ctct-drop-list class="list-unstyled margin_0">',d+=e,d+="</ul>",d+="</div>",c.after(d),void 0!==b&&h.length>1){g+='<select id="'+b+'" name="'+b+'" class="hidden">';for(var k=0;k<h.length;k++){var l=ctctblog.getUrlVars()[b]===h[k]?"selected":"";g+='<option value="'+h[k]+'" '+l+">"+h[k]+"</option>"}g+="</select>",c.after(g)}var m=c.parent().find("[data-ctct-drop]");m.on("click","[data-ctct-drop-btn]",function(){m.hasClass("open")?m.removeClass("open"):m.addClass("open")}),m.on("click","[data-ctct-drop-value]",function(){var a=$(this),d='[data-ctct-drop-id="'+a.data("ctct-drop-id")+'"]',e=a.attr("data-ctct-drop-secondary");if(void 0!==e&&!1!==e){var f="#"+b,g='[value="'+e+'"]';c.parent().find(f).find(g).attr("selected",!0)}m.find("[data-ctct-drop-btn]").text(a.text()),c.find(d).attr("selected",!0),m.removeClass("open"),c.change()}),$(document).on("click",function(a){m.is(a.target)||0!==m.has(a.target).length||m.removeClass("open")})},ctctblog.loaderIcon=function(a,b,c){"use strict";var d=$(a);if(parent&&(d=$(a).parent()),c){if(!d.find("#ctct-loading").length){var e="",f=b?"filter":"";e+='<div id="ctct-loading" class="'+f+'">',e+="</div>",d.append(e),f&&$("#ctct-loading").addClass("filter")}$("#ctct-loading").addClass("visible")}else!c&&d.find("#ctct-loading").length&&d.find("#ctct-loading").remove()},ctctblog.socialbuttons=function(a){"use strict";function b(a,b){var d="."+b+" > div",e=c.find(d);e.text(a),e.removeClass("loading")}var c=$(a).find(".ctct-share-buttons"),d=c.find('[class^="ctct-social"]'),e=document.URL;d.each(function(){var a=$(this),c=a.attr("class");switch(a.find(".load-count").addClass("loading"),c){case"ctct-social-facebook":$.ajax({url:"//graph.facebook.com/?id="+e,method:"GET",dataType:"jsonp"}).success(function(a){b(a.shares,c)}).error(function(){a.find(".load-count").removeClass("loading")});break;case"ctct-social-pinterest":$.ajax({url:"//api.pinterest.com/v1/urls/count.json?url="+e+"&callback=?",method:"GET",dataType:"jsonp"}).success(function(a){b(a.count,c)}).error(function(){a.find(".load-count").removeClass("loading")});break;case"ctct-social-linkedin":$.ajax({url:"//www.linkedin.com/countserv/count/share?url="+e+"&callback=?",method:"GET",dataType:"jsonp"}).success(function(a){b(a.count,c)}).error(function(){a.find(".load-count").removeClass("loading")});break;case"ctct-social-googleplus":var d={action:"getGooglePlusCount",url:e};$.ajax({url:"/wp-content/themes/roots/tribe-ajax-helper.php",method:"POST",data:d}).success(function(a){b(a,c)}).error(function(){b("0",c)})}}),d.on("click",function(){var a=$(this),b=a.data("href"),c=window.open(b,"Social Share","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=yes,width=400,height=350");window.focus&&c.focus()})},$.expr[":"].regex=function(a,b,c){"use strict";var d=c[3].split(","),e=/^(data|css):/,f={method:d[0].match(e)?d[0].split(":")[0]:"attr",property:d.shift().replace(e,"")};return new RegExp(d.join("").replace(/^\s+|\s+$/g,""),"ig").test(jQuery(a)[f.method](f.property))},$(document).ready(function(){"use strict";var a="click";if(Modernizr.touch&&(a="touchend"),$("a:regex(href, #.*)").each(function(){var b=$(this),c=b.attr("href");c.replace("#","")&&b.on(a,function(a){a.preventDefault(),$("html,body").animate({scrollTop:$(c).offset().top},"500")})}),$("[data-slide-down]").length&&$("[data-slide-down]").on(a,function(){var a=$(this).data("slide-down");$(a).slideToggle("slow")}),$(".js-validate-promo-form").length){var b=$(".js-validate-promo-form");$(document).on("focus",".promotion-content .has-error",function(){$(this).closest(".form-group").removeClass("has-error").find(".text-danger").remove()}),b.on("click",function(a){a.preventDefault();var b=$(".promotion-content .validate"),c=!0;$(".promotion-content .has-error").length&&$(".promotion-content .has-error").removeClass("has-error").find(".text-danger").remove(),b.attr("disabled",!0).each(function(){var a=$(this),b=a.val(),d=a.data("empty-message"),e=new RegExp(a.data("regex")),f=a.data("regex-message");b&&""!==b?e.test(b)||(c=!1,a.parent().addClass("has-error"),a.after('<small class="text-danger">'+f+"</small>")):(c=!1,a.parent().addClass("has-error"),a.after('<small class="text-danger">'+d+"</small>"))}).attr("disabled",!1),c&&$(".promotion-content form").submit()})}if($("[data-open]").length){var c=$("[data-open]");$(document).on("click",function(a){var b=c.data("open"),d=$(b);c.is(a.target)||d.is(a.target)||0!==c.has(a.target).length||0!==d.has(a.target).length||d.removeClass("open")}),c.on(a,function(a){a.preventDefault();var b=$(this).data("open"),c=$(b);c.hasClass("open")?c.removeClass("complete").removeClass("open"):(c.addClass("open"),setTimeout(function(){c.addClass("complete")},300))})}$("#searchform").length&&ctctblog.dropdown("#taxterm","taxonomy"),$('[role="search"]').length&&$('[role="search"]').on("submit",function(a){var b=$(this),c=b.find('[name="s"]'),d=c.val(),e=!1;return d&&""!==d?e=!0:(c.attr("placeholder","please enter a search term"),c.on("focus",function(){c.attr("placeholder","")})),e}),$("#search-filters").length&&ctctblog.checkboxes("#search-filters"),$("[data-check-input]").length&&$("[data-check-input]").on("click",function(a){a.preventDefault();var b=$(this),c=b.closest(".section"),d=b.prev().data("value"),e=c.find("[data-value=all]");b.hasClass("current")&&"all"!==d?b.removeClass("current"):("all"===d&&c.find("[data-check-input]").removeClass("current"),b.hasClass("current")||b.addClass("current")),e.next().hasClass("current")&&"all"!==d?(e.next().removeClass("current"),e.attr("checked",!1)):c.find("current").length||(e.next().addClass("current"),e.attr("checked",!0)),b.prev().click()}),$("[data-show-tab]").length&&$("[data-show-tab]").on("click",function(a){a.preventDefault();var b=$(this),c=b.data("show-tab"),d=$(c);$("[data-show-tab]").each(function(){var a=$(this).data("show-tab");$(this).removeClass("current").removeClass("disabled"),$(a).addClass("hidden")}),b.addClass("current disabled"),d.hasClass("hidden")&&d.removeClass("hidden")});var d=$(".js-two-step-form-submit");d.length&&d.on("click",function(a){a.preventDefault();var b=$(this).closest(".js-two-step-form"),c="",d=$(this).attr("href"),e=b.data("rmc");b.find("input").each(function(a){c+=$(this).attr("name")+"="+$(this).val()+"|",console.log(c)}),e&&ctct.cookies.add({name:"cclp_rmc",path:"/",domain:".constantcontact.com",value:e,expires:24}),ctct.cookies.add({name:"suf-values",path:"/",domain:".constantcontact.com",value:c,expires:24}),window.location.href=d})}),function(){"use strict";$(function(){var a=$("[data-ctct-print]");a.length&&a.on("click",function(a){a.preventDefault(),window.print()}),$("[class*=js-toggle-section]").each(function(){var a=$(this),b=a.attr("class"),c=b.match(/\bjs\-toggle\-section\-([a-zA-Z\-]*)\b/g),d=c[0].replace("js-toggle-section-",".");a.hasClass("js-toggle-section-init-open")&&(a.addClass("open"),$(d).css({overflow:"hidden",display:"block"})),a.on("click",function(){$(this).toggleClass("open"),$(d).slideToggle("fast")})})})}(),$(function(){"use strict";function a(a){try{s.eVar26=a,s.eVar48="footer>"+s.eVar26,s.eVar49=window.location.pathname+">"+s.eVar48,s.events="event17",s.tl()}catch(a){window.console.error("SiteCatalyst not loaded")}}function b(a,b){if(window.ctct.cookies){var c=window.ctct.cookies.get({name:"suf-values"})||"",d=c.split("|"),e="",f=[];d.forEach(function(b,c){b.split("=")[0]!==a&&f.push(b)}),e=f.join("|")+a+"="+b+"|",window.ctct.cookies.add({name:"suf-values",value:e,expires:14,path:"/"})}}var c=$(".footer-container-jmml"),d=$(".footer-container-jmml form")[0];$(".footer-container-jmml .js-toggle-visibility").on("click",function(){c.hasClass("obscured")?(a("join our mailing list"),c.attr("class","footer-container-jmml visible")):(a("hide jmml form"),c.attr("class","footer-container-jmml obscured"))}),void 0!==d&&d.addEventListener("submit",function(e){e.preventDefault();var f=$(".footer-container-jmml input[type='email']")[0],g=e.target.action;!0===f.validity.valid?($("<iframe>",{src:g+"?"+$(d).serialize(),height:0,width:0,style:"display: none;"}).appendTo(c),a("join - success"),c.attr("class","footer-container-jmml success"),b("siteContactEmailLogin",f.value)):(a("join - error"),c.attr("class","footer-container-jmml error"))})});